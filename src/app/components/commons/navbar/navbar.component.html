<!-- Navbar -->
<nav class="navbar navbar-expand-lg">
	<div class="container-fluid" id="header">

		<div id="brand">
			<a class="navbar-brand" href="/home">Ana Estrada Macías</a>
			<button id="menu1" class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#mainPages"
				aria-controls="mainPages" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
		</div>

		<!-- Main pages -->
		<div id="mainPages" class="offcanvas offcanvas-end" tabindex="-1" aria-labelledby="offcanvasTopLabel">
			<button type="button" class="btn-close offC" data-bs-dismiss="offcanvas" aria-label="Close"></button>
			<ul class="navbar-nav">
				<li class="nav-item">
					<a class="offC"><img src="../../assets/Icons/Dashboard.png" alt=""></a>
					<a class="nav-link" aria-current="page" href="/proyectos" data-bs-dismiss='offcanvas'
						routerLink="/proyectos" routerLinkActive="active">Proyectos</a>
				</li>
				<li class="nav-item">
					<a class="offC"><img src="../../assets/Icons/Contact.png" alt=""></a>
					<a class="nav-link" href="/contacto" routerLink="/contacto" routerLinkActive="active"
						data-bs-dismiss='offcanvas'>Contacto</a>
				</li>
				<li class="nav-item">
					<a class="offC"><img src="../../assets/Icons/Info.png" alt=""></a>
					<a class="nav-link" href="/sobremi" routerLink="/sobremi" routerLinkActive="active"
						data-bs-dismiss='offcanvas'>Sobre mí</a>
				</li>
			</ul>

			<!-- Extra elements for offcanvas menu -->
			<div class="navbar-toggler">
				<div id="Log">
					<a class="nav-link" href="/registro" routerLink="/registro" data-bs-dismiss='offcanvas'>Regístrate</a>
					<p>o</p>
					<a class="nav-link" href="/login" routerLink="/login" data-bs-dismiss='offcanvas'>Inicia sesión</a>
				</div>
				<p class="rrss">¡Sígueme en mis redes sociales!</p>
				<div id="RRSS">
					<a href=""><img src="../../assets/Icons/X.png" alt=""></a>
					<a href=""><img src="../../assets/Icons/Instagram.png" alt=""></a>
				</div>
			</div>
		</div>

		<!-- Secondary actions, the elements with id="userDrop" dissapears in phones -->
		<div id="secPages">
			<button id="menu2" class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#mainPages"
				aria-controls="mainPages" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<!-- If is logged -->
			<div *ngIf="logged; else notLogged" class="navbar-nav welcome userDrop">
				<p>Hola! {{user?.name}}</p>
				<div>
					<a href="/carrito" class="shopping_bag"><span class="material-symbols-outlined shopping_bag" matBadge="{{this.cart_length}}">local_mall</span></a>

					<!-- User dropdown -->
					<ul class="navbar-nav">
						<li class="nav-item dropdown">
							<a id="dropicon" class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
								aria-expanded="false">
								<mat-icon aria-hidden="false" aria-label="person" fontIcon="person"></mat-icon>
							</a>

							<!-- Dropdown actions -->
							<ul class="dropdown-menu dropdown-menu-end">
								<li class="mine"><a class="dropdown-item" href="/userdata/mydata">Mis datos</a></li>
								<li class="mine"><a class="dropdown-item" href="/userdata/favoritos">Favoritos</a></li>
								<li class="mine"><a class="dropdown-item" href="/userdata/pedidos">Pedidos</a></li>
								<li class="mine"><a class="dropdown-item" href="/userdata/">Pago</a></li>
								<li class="mine logout" (click)="logout()"><a class="dropdown-item" href="/home">Cerrar
										sesión</a><span class="material-symbols-outlined">logout</span></li>
							</ul>
						</li>
					</ul>
				</div>
			</div>

			<!-- If is not logged -->
			<ng-template #notLogged>
				<div class="userDrop" id="notLogged">
					<a href="/carrito" class="shopping_bag"><span class="material-symbols-outlined shopping_bag" matBadge="{{this.cart_length}}">local_mall</span></a>

					<ul class="navbar-nav">
						<!-- User dropdown -->
						<li class="nav-item dropdown">
							<a id="dropicon" class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
								aria-expanded="false">
								<mat-icon aria-hidden="false" aria-label="person" fontIcon="person"></mat-icon>
							</a>

							<!-- Dropdown actions -->
							<ul class="dropdown-menu dropdown-menu-end">
								<li><a class="dropdown-item logOptions" href="/registro">Registrarse</a></li>
								<li><a class="dropdown-item logOptions" href="/login">Iniciar sesión</a></li>
							</ul>
						</li>
					</ul>
				</div>
			</ng-template>
		</div>
	</div>
</nav>